{"ast":null,"code":"import axios from'axios';import React,{useState}from'react';import img from'../images/rdem.png';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Redeem(){const[amount,setAmount]=useState('');const[cardNumber,setCardNumber]=useState('');const[info,setInfo]=useState('');const handleRedeem=()=>{if(amount<=0){setInfo('Please enter a valid amount.');return;}if(!cardNumber){setInfo('Please enter a valid card number.');return;}const payload={cardNumber:cardNumber,amount:amount,userId:'1'};axios.post('https://aptech.heritagejewels.com.pk/microservices/addtransaction.php',payload).then(response=>{console.log(response.data);let res=JSON.parse(response.data);if(res.success===true){setInfo(/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center flex-column\",children:[/*#__PURE__*/_jsx(\"img\",{src:img,alt:\"confirmation\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\" Congratulations! \"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\" redemption succesful\"})]})}));setTimeout(()=>{setInfo('');},5000);}else{setInfo(\"Redeem failed\");}}).catch(error=>{console.error(error);setInfo('Error occurred. Please try again.');});};return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column justify-content-center\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control mt-5\",type:\"text\",placeholder:\"Enter card number\",value:cardNumber,onChange:e=>setCardNumber(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mt-2\",type:\"number\",placeholder:\"Enter redeem amount\",value:amount,onChange:e=>setAmount(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success\",onClick:handleRedeem,children:\" Redeem \"}),info&&/*#__PURE__*/_jsx(\"p\",{children:info})]})});}export default Redeem;","map":{"version":3,"names":["axios","React","useState","img","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Redeem","amount","setAmount","cardNumber","setCardNumber","info","setInfo","handleRedeem","payload","userId","post","then","response","console","log","data","res","JSON","parse","success","children","className","src","alt","setTimeout","catch","error","type","placeholder","value","onChange","e","target","onClick"],"sources":["D:/jwelshopadmin/src/components/Redeem.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport img from '../images/rdem.png'\r\n\r\nfunction Redeem() {\r\n    const [amount, setAmount] = useState('');\r\n    const [cardNumber, setCardNumber] = useState('');\r\n    const [info, setInfo] = useState('');\r\n\r\n    const handleRedeem = () => {\r\n        if (amount <= 0) {\r\n            setInfo('Please enter a valid amount.');\r\n            return;\r\n        }\r\n\r\n        if (!cardNumber) {\r\n            setInfo('Please enter a valid card number.');\r\n            return;\r\n        }\r\n        const payload = {\r\n            cardNumber: cardNumber,\r\n            amount: amount,\r\n            userId: '1'\r\n        };\r\n\r\n        axios.post('https://aptech.heritagejewels.com.pk/microservices/addtransaction.php', payload)\r\n            .then((response) => {\r\n                console.log(response.data); \r\n                let res = JSON.parse(response.data)\r\n                if (res.success === true) {\r\n                    setInfo(\r\n                        <>\r\n                            <div className='d-flex justify-content-center flex-column'>\r\n                                <img src={img} alt='confirmation'/>\r\n                                <h1 className='text-center'> Congratulations! </h1>\r\n                                <h3 className='text-center'> redemption succesful</h3>\r\n                            </div>\r\n                        </>\r\n                    )\r\n                    setTimeout(() => {\r\n                        setInfo('')\r\n                    }, 5000);\r\n                } else {\r\n                    setInfo(\"Redeem failed\")\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n                setInfo('Error occurred. Please try again.');\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"d-flex flex-column justify-content-center\">\r\n\r\n                <input\r\n                    className=\"form-control mt-5\" type=\"text\" placeholder=\"Enter card number\" value={cardNumber} onChange={(e) => setCardNumber(e.target.value)} />\r\n                <input\r\n                    className=\"form-control mt-2\" type=\"number\" placeholder=\"Enter redeem amount\" value={amount} onChange={(e) => setAmount(e.target.value)} />\r\n                <br />\r\n                <button\r\n                    className=\"btn btn-outline-success\" onClick={handleRedeem}> Redeem </button>\r\n                {info && <p>{info}</p>}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Redeem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}